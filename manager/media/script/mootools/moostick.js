if(typeof window["MooTools"]=="undefined"){var mstkRedirect="http:/www.mootools.net/";if(confirm("Moostick requires the MooTools JavaScript framework.\n"+"Be sure to include it before Moostick.\n\n"+"Click OK for more info, or Cancel to load the page without it.")){top.location.href=redirect}}else{var MstkHelpers={qsVar:function(e){var t=false;if(e.length>0){$ES("script").each(function(n){if(n.src.match("moostick.js?")){var r=n.src.split("?");if(r[1]){r[1].split("&").each(function(n){var r=n.split("=");if(r[1]&&r[0]==e)t=r[1]})}}})}return t},checkArray:function(e){if(!e[0])return[e];else return e}};if(MstkHelpers.qsVar("init")!=="false"){window.addEvent("domready",function(){MstkInit.go(false,true)})}var MstkInit={lists:false,autoStart:false,interval:3500,fxOptions:{},trust4Speed:false,trustOpacity:false,go:function(e,t,n,r,i,s){this.lists=!e?this.lists:e;this.autoStart=t===true?t:this.autoStart;this.interval=!n||n.toInt()<500?this.interval:n.toInt();this.fxOptions=!r||typeof r!="object"?this.fxOptions:r;this.trust4Speed=i===true?i:this.trust4Speed;this.trustOpacity=s===true?s:this.trustOpacity;if(this.autoStart===true){if(this.trust4Speed===true){this._fastMode()}else{this._safeMode()}}},_fastMode:function(){this.lists=MstkHelpers.checkArray(this.lists);this.lists.each(function(e){new Moostick(e,this.autoStart,this.interval,this.fxOptions,this.trust4Speed,this.trustOpacity)},this)},_safeMode:function(){if(this.lists===false){var e=false;if($("moostick"))e=[$("moostick")];else if($$(".moostick"))e=$$(".moostick");this.lists=!e?false:e}if(this.lists){this.lists=MstkHelpers.checkArray(this.lists);this.lists.each(function(e){new Moostick(e,this.autoStart,this.interval,this.fxOptions,this.trust4Speed,this.trustOpacity)},this)}}};var Moostick=Class({version:"1.0",list:{},autoStart:false,interval:3500,fxOptions:{},trust4Speed:false,trustOpacity:false,_firstRun:true,_elSched:null,_fx:false,initialize:function(e,t,n,r,i,s){this.list=!e||typeof e!="object"?this.list:e;this.autoStart=t===true?t:this.autoStart;this.interval=!n||n.toInt()<500?this.interval:n.toInt();this.fxOptions=!r||typeof r!="object"?this.fxOptions:r;this.trust4Speed=i===true?i:this.trust4Speed;this.trustOpacity=s===true?s:this.trustOpacity;this.list.moostick=this;if(this.autoStart===true){if(this.trust4Speed===true){this._fastMode()}else{this._safeMode()}}},startTick:function(e,t,n,r,i){this.initialize(e,true,t,n,r,i)},stopTick:function(){this.list.$events.mouseenter=false;this.list.$events.mouseleave=false;this.pauseTick()},pauseTick:function(){this._elSched=$clear(this._elSched)},resumeTick:function(){this._schedule()},_fastMode:function(){this._liHandler();this._schedule()},_safeMode:function(){if(this.list){if($ES("li",this.list)){var e=$ES("li",this.list);if(!this.list.hasClass("moostick"))this.list.addClass("moostick");var t=false;if(this.list.getStyle("overflow")!="hidden"||e[0].getStyle("display")!="block"||e[0].getStyle("list-style-type")!="none"){t=true}if(t){this.list.setStyles({display:"block",height:"1.1em",margin:0,padding:"2px 0 2px 0",overflow:"hidden"});this._liHandler({display:"block","list-style-type":"none",margin:"0 auto 0 auto",padding:0})}else{this._liHandler()}this._schedule()}}},_setMouseEvents:function(){this.list.addEvents({mouseenter:function(){this.moostick.pauseTick()},mouseleave:function(){this.moostick.resumeTick()}})},_liHandler:function(e){if(!e||typeof e!="object")e=false;if(this.trustOpacity!==true||e!==false){$ES("li",this.list).each(function(t){if(e!==false)t.setStyles(e);if(this.trustOpacity!==true)t.setOpacity(0)})}},_schedule:function(){if(!this._elSched){var e=$E("li",this.list);if(e.getStyle("opacity")!=1)this._fadeIn(e);else if(this._firstRun===true)this._fadeIn(e);this._elSched=this._run.periodical(this.interval,this,this.list);listEvents=this.list.$events;if(!listEvents)this._setMouseEvents();else if(!listEvents.mouseenter&&!listEvents.mouseleave)this._setMouseEvents()}},_run:function(){var e=$ES("li",this.list);if(e[1]){e[0].injectAfter(e.getLast());this._fadeIn(e[1]);$ES("li",this.list).getLast().setOpacity(0)}},_fadeIn:function(e){this._fx=e.effect("opacity",this.fxOptions).start(0,1);this._firstRun=false}})}