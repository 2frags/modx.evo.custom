function MultiSelector(e,t){this.list_target=e;this.count=0;this.id=0;if(t){this.max=t}else{this.max=-1}this.addElement=function(e){if(e.tagName=="INPUT"&&e.type=="file"){e.name="userfile["+this.id+"]";this.id++;e.multi_selector=this;e.onchange=function(){var e=document.createElement("input");e.type="file";this.parentNode.insertBefore(e,this);this.multi_selector.addElement(e);this.multi_selector.addListRow(this);this.style.position="absolute";this.style.left="-1000px"};if(this.max!=-1&&this.count>=this.max){e.disabled=true}this.count++;this.current_element=e}else{alert("Error: not a file input element")}};this.addListRow=function(e){var t=document.createElement("div");var n=document.createElement("input");n.type="button";n.value="X";t.element=e;n.onclick=function(){this.parentNode.element.parentNode.removeChild(this.parentNode.element);this.parentNode.parentNode.removeChild(this.parentNode);this.parentNode.element.multi_selector.count--;this.parentNode.element.multi_selector.current_element.disabled=false;return false};t.innerHTML=e.value;t.appendChild(n);this.list_target.appendChild(t)}}